<!DOCTYPE html>
<html>
<head>
    <title>ca-itc-example</title>

    <script type="text/javascript" src="/apps/2.0/sdk.js"></script>

    <script type="text/javascript">
        Rally.onReady(function () {
                Ext.define("CustomApp",{extend:"Rally.app.App",componentCls:"app",launch:function(){console.log("hello world 4!"),this.add({xtype:"rallyfieldvaluecombobox",itemId:"stateComboBox",fieldLabel:"Filter by State:",model:"Defect",field:"State",listeners:{select:this._onSelect,ready:this._onLoad,scope:this}})},_onLoad:function(){this.add({xtype:"rallygrid",columnCfgs:["FormattedID","Name","State","Priority","Severity"],context:this.getContext(),storeConfig:{model:"defect",filters:[this._getStateFilter()]}})},_getStateFilter:function(){return{property:"State",operator:"=",value:this.down("#stateComboBox").getValue()}},_onSelect:function(){var grid=this.down("rallygrid"),store=grid.getStore();store.clearFilter(!0),store.filter(this._getStateFilter())}});

            Rally.launchApp('CustomApp', {
                name:"ca-itc-example",
	            parentRepos:""
            });

        });
    </script>


    <style type="text/css">
        
    </style>
</head>
<body>
</body>
</html>
